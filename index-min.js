var oList,oDom=new dinamicdom;const cargar_producto=function(t){oList.process_pedido(t),oList.change_label_header(),oDom.windows_view_product()},show_pedido=function(){let t=oList.get_pedido();oDom.view_add_pedido(t)};$((()=>{let t=0;if(PRODUCTLIST.length>0){$("#nav-tabContent").append("");for(let n of PRODUCTLIST)0==t?($("aside #list-tab:first-child").append(`<a class="list-group-item list-group-item-action active" id="list-${n.categoria}-list" data-bs-toggle="list"\n                href="#list-${n.categoria}" role="tab" aria-controls="list-${n.categoria}-list">${n.categoria}</a>`),$("#nav-tabContent").append(`<div class="tab-pane fade show active" id="list-${n.categoria}" role="tabpanel"\n                aria-labelledby="list-${n.categoria}-list">`)):($("aside #list-tab:first-child").append(`<a class="list-group-item list-group-item-action" id="list-${n.categoria}-list" data-bs-toggle="list"\n                href="#list-${n.categoria}" role="tab" aria-controls="list-${n.categoria}-list">${n.categoria}</a>`),$("#nav-tabContent").append(`<div class="tab-pane fade" id="list-${n.categoria}" role="tabpanel"\n                aria-labelledby="list-${n.categoria}-list">`)),$(`#nav-tabContent #list-${n.categoria}`).append(`<div class="row">\n                                        <div class="col-11 col-md-4">\n                                        <div class="shadow-lg p-3 mb-5 bg-white rounded neograf-product-card animate__animated animate__zoomIn">\n                                        <div class="neograf-product-img-card col-12">\n                                            <img src="img/${n.archive}" alt="${n.categoria}" class="neograf-imagen-responsive">\n                                        </div>\n                                        <h5>${n.descripcion}</h5>\n                                        <div class="neograf-product-img-card-txt">\n                                            <p class="neograf-fonts">${n.nota}</p>\n                                        </div>\n                                        <div class="neograf-product-img-price-txt">\n                                            <span>Desde</span>\n                                            <span class="neograf-product-price">$${n.precioDesde}</span>\n                                            <span class="neograf-product-quantity"> + IVA</span>\n                                            <span class="neograf-product-quantity"> /${n.cantidadDesde} ${n.medicionDesde}</span>\n                                            <span>\n                                            <button class="neograf-button-span" type="button" id="add_quanty_product_${n.id}">\n\n                                                <i class="fas fa-shopping-cart"></i>\n                                            </button>\n                                            </span>\n                                        </div>\n                                        </div>\n                                        </div>\n                                    </div>\n                                    </div>`),$(`#add_quanty_product_${n.id}`).on("click",(function(){let t=0;$("#neograf-compra").toggleClass("hide"),document.getElementById("neograf-compra").innerHTML="",$("#neograf-compra").append(`<div class="container-fluid neograf-fonts">\n                            <h3 class="container product-add-title text-center">${n.descripcion}</h3>\n                        </div>`),$("#neograf-compra div").append('\n                        <div class="row justify-content-center"></div>\n                        <div class="row justify-content-center" style="padding: 2%;text-align: center;"></div>\n                        <div class="row justify-content-center" style="padding: 2%;text-align: center;"></div>\n                        <div class="row-12 justify-content-center" id="divButton" style="padding: 2%;text-align: center;"></div>'),$("#neograf-compra div div:nth-child(2)").append('                       \n                                                <div class="col-4 d-flex align-items-center" id="div-product-nota"></div>\n                                                <div class="col-6" id="div-product-image"></div>'),$("#neograf-compra div div:nth-child(2) #div-product-nota").append(`\n                                                                            <p>${n.nota}</p>\n                                                                            `),$("#neograf-compra div div:nth-child(2) #div-product-image").append(`\n                                                                            <img src="img/${n.archive}" alt="${n.descripcion}" style="height: 250px; width: 250px;">\n                                                                                            `),$("#neograf-compra div div:nth-child(3)").append('                            \n                                                <div class="col-2" id="form-cantidad-label"></div>\n                                                <div class="col-4" id="div-cantidad-input"></div>      \n                                                <div class="col-6" id="div-calculo-input"></div>\n                                                                        '),$("#form-cantidad-label").append('\n                                                        <label for="form-cantidad-input" class="form-label">\n                                                            Cantidad\n                                                        </label>\n                                                        '),$("#div-cantidad-input").append('\n                                                        <input id="form-cantidad-input" type="number" class="form-control"></input>                                                \n                                                        '),$("#div-calculo-input").append("\n                                                        <p>\n                                                        Cantidad total por cada Unidad :\n                                                        </p>\n                                                        <p>\n                                                        0\n                                                        </p>\n                                                        "),$("#divButton").append('<Button id="myButtonAccept">COMPRAR</button>'),$("#neograf-compra").prepend('<button id="myButtonCancel" style="padding:2%" type="button" aria-label="Close"></button>'),$("#myButtonAccept").toggleClass("btn btn-outline-primary"),$("#myButtonCancel").toggleClass("btn-close"),$("#myButtonAccept").hide(),$("#form-cantidad-input").change((function(a){let e=document.getElementById(a.currentTarget.id);t=parseInt(parseInt(e.value)*parseInt(n.cantidadDesde)),$("#div-calculo-input p").trigger("change")})),$("#div-calculo-input p:last").change((function(n){n.currentTarget.innerText=t,t>0?$("#myButtonAccept").show():$("#myButtonAccept").hide()})),$("#myButtonAccept").on("click",(function(t){var a;a=n,oList.process_pedido(a),oList.change_label_header(),oDom.windows_view_product()})),$("#myButtonCancel").on("click",(function(t){$("#neograf-compra").toggleClass("hide")}))})),t++}})),window.addEventListener("load",(function(){let t=localStorage.getItem("pedido");if(oList||(oList=new pedido),null!==t&&t.length>0){if(confirm("Existe un pedido guardado. Â¿Desea seguir su tratamiento?")){let n=JSON.parse(t);oList.oStore(n),document.getElementById("labelSpanHeaderProduct").innerText=`Productos agregados a tu compra: ${oList.get_pedido().length}`,document.getElementById("showShellButton").classList.toggle("hide")}}}));